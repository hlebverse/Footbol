generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// 1. НОВОСТИ (Без изменений)
model News {
  id        Int      @id @default(autoincrement())
  title     String
  content   String
  createdAt DateTime @default(now())
}

// 2. СБОРНЫЕ (Добавили связи с матчами)
model NationalTeam {
  id      Int      @id @default(autoincrement())
  name    String   @unique
  country String
  
  // Связь с игроками
  players Player[]

  // Связь с матчами (где команда дома и где в гостях)
  homeMatches Match[] @relation("HomeMatches")
  awayMatches Match[] @relation("AwayMatches")
}

// 3. ИГРОКИ (Без изменений)
model Player {
  id       Int          @id @default(autoincrement())
  name     String
  position String
  age      Int
  teamId   Int
  team     NationalTeam @relation(fields: [teamId], references: [id])
}

// 4. МАТЧИ (ИСПРАВЛЕНО: теперь ссылки на NationalTeam)
model Match {
  id         Int      @id @default(autoincrement())

  // Связь для Домашней команды
  homeTeamId Int
  homeTeam   NationalTeam @relation("HomeMatches", fields: [homeTeamId], references: [id])

  // Связь для Гостевой команды
  awayTeamId Int
  awayTeam   NationalTeam @relation("AwayMatches", fields: [awayTeamId], references: [id])

  homeScore  Int
  awayScore  Int
  matchDate  DateTime
}